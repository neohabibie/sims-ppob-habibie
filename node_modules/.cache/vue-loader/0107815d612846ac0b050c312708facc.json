{"remainingRequest":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Home.vue","mtime":1757618109851},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1757611684910},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":1757611686384}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBhcGkgZnJvbSAnLi4vc2VydmljZXMvYXBpJzsNCiAgaW1wb3J0IEJhbm5lckNhcm91c2VsIGZyb20gJy4uL2NvbXBvbmVudHMvQmFubmVyQ2Fyb3VzZWwudnVlJzsNCiAgaW1wb3J0IFNlcnZpY2VDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvU2VydmljZUNhcmQudnVlJzsNCiAgZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgIEJhbm5lckNhcm91c2VsLA0KICAgICAgU2VydmljZUNhcmQNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBiYW5uZXJzOiBbXSwNCiAgICAgICAgc2VydmljZXM6IFtdLA0KICAgICAgICBwcm9maWxlOiB7fSwNCiAgICAgICAgYmFsYW5jZTogMCwNCiAgICAgICAgcHJvbW86ICcnDQogICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgdXNlckltYWdlKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5wcm9maWxlLnByb2ZpbGVfaW1hZ2UgPyB0aGlzLnByb2ZpbGUucHJvZmlsZV9pbWFnZSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9kZWZhdWx0LWF2YXRhci5wbmcnKTsNCiAgICAgIH0sDQogICAgICBiYWxhbmNlRGlzcGxheSgpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgnaWQtSUQnLCB7DQogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsDQogICAgICAgICAgY3VycmVuY3k6ICdJRFInDQogICAgICAgIH0pLmZvcm1hdCh0aGlzLmJhbGFuY2UgfHwgMCk7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBjcmVhdGVkKCkgew0KICAgICAgYXdhaXQgdGhpcy5sb2FkQWxsKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBhc3luYyBsb2FkQWxsKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IFtwLCBiLCBzLCBibl0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICBhcGkuZ2V0KCcvcHJvZmlsZScpLCBhcGkuZ2V0KCcvYmFsYW5jZScpLCBhcGkuZ2V0KCcvc2VydmljZXMnKSwgYXBpLmdldCgnL2Jhbm5lcicpDQogICAgICAgICAgXSk7DQogICAgICAgICAgdGhpcy5wcm9maWxlID0gcC5kYXRhLmRhdGEgfHwge307DQogICAgICAgICAgdGhpcy5iYWxhbmNlID0gKGIuZGF0YSAmJiBiLmRhdGEuZGF0YS5iYWxhbmNlKSA/IGIuZGF0YS5kYXRhLmJhbGFuY2UgOiAwOw0KICAgICAgICAgIHRoaXMuc2VydmljZXMgPSAocy5kYXRhICYmIHMuZGF0YS5kYXRhKSA/IHMuZGF0YS5kYXRhIDogW107DQogICAgICAgICAgdGhpcy5iYW5uZXJzID0gKGJuLmRhdGEgJiYgYm4uZGF0YS5kYXRhKSA/IGJuLmRhdGEuZGF0YSA6IFtdOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcihlKTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIHNlbGVjdFNlcnZpY2Uocykgew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgcGF0aDogJy9wYXltZW50JywNCiAgICAgICAgICBxdWVyeTogew0KICAgICAgICAgICAgc2VydmljZUlkOiBzLmlkDQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9DQogIH0NCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"8\">\r\n        <b-card class=\"card-elevated mt-3\">\r\n          <h6 class=\"mb-2\">Layanan Favorit</h6>\r\n          <div class=\"services-grid\">\r\n            <service-card v-for=\"s in services\" :key=\"s.id\" :service=\"s\" @select=\"selectService\" />\r\n          </div>\r\n        </b-card>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"4\">\r\n        <b-card class=\"card-elevated\">\r\n          <div class=\"d-flex align-items-center\">\r\n            <img :src=\"userImage\" class=\"avatar-sm mr-3\" />\r\n            <div>\r\n              <div style=\"font-size:12px;color:#6b7280\">Saldo Anda</div>\r\n              <div style=\"font-weight:700;font-size:18px\">{{ balanceDisplay }}</div>\r\n            </div>\r\n          </div>\r\n          <b-button variant=\"primary\" block class=\"mt-3 big-action\" @click=\"$router.push('/topup')\">Top Up Sekarang</b-button>\r\n          <b-button variant=\"outline-secondary\" block class=\"mt-2\" @click=\"$router.push('/history')\">Lihat Riwayat</b-button>\r\n        </b-card>\r\n        <b-card class=\"card-elevated mt-3\">\r\n          <h6>Promo</h6>\r\n          <div v-if=\"promo\">{{ promo }}</div>\r\n          <div v-else>\r\n            <small>Tidak ada promo saat ini</small>\r\n          </div>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n<script>\r\n  import api from '../services/api';\r\n  import BannerCarousel from '../components/BannerCarousel.vue';\r\n  import ServiceCard from '../components/ServiceCard.vue';\r\n  export default {\r\n    components: {\r\n      BannerCarousel,\r\n      ServiceCard\r\n    },\r\n    data() {\r\n      return {\r\n        banners: [],\r\n        services: [],\r\n        profile: {},\r\n        balance: 0,\r\n        promo: ''\r\n      }\r\n    },\r\n    computed: {\r\n      userImage() {\r\n        return this.profile.profile_image ? this.profile.profile_image : require('../assets/default-avatar.png');\r\n      },\r\n      balanceDisplay() {\r\n        return new Intl.NumberFormat('id-ID', {\r\n          style: 'currency',\r\n          currency: 'IDR'\r\n        }).format(this.balance || 0);\r\n      }\r\n    },\r\n    async created() {\r\n      await this.loadAll();\r\n    },\r\n    methods: {\r\n      async loadAll() {\r\n        try {\r\n          const [p, b, s, bn] = await Promise.all([\r\n            api.get('/profile'), api.get('/balance'), api.get('/services'), api.get('/banner')\r\n          ]);\r\n          this.profile = p.data.data || {};\r\n          this.balance = (b.data && b.data.data.balance) ? b.data.data.balance : 0;\r\n          this.services = (s.data && s.data.data) ? s.data.data : [];\r\n          this.banners = (bn.data && bn.data.data) ? bn.data.data : [];\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      },\r\n      selectService(s) {\r\n        this.$router.push({\r\n          path: '/payment',\r\n          query: {\r\n            serviceId: s.id\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>"]}]}
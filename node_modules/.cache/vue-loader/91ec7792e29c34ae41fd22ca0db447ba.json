{"remainingRequest":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Home.vue","mtime":1757744681900},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1757611684910},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":1757611686384}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaScNCmltcG9ydCBMYXlvdXROYXZiYXIgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXROYXZiYXIudnVlJw0KaW1wb3J0IEJhbm5lclNsaWRlciBmcm9tICcuLi9jb21wb25lbnRzL0Jhbm5lclNsaWRlci52dWUnDQppbXBvcnQgU2VydmljZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9TZXJ2aWNlQ2FyZC52dWUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIExheW91dE5hdmJhciwNCiAgICBCYW5uZXJTbGlkZXIsDQogICAgU2VydmljZUNhcmQNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBiYW5uZXJzOiBbXSwNCiAgICAgIHNlcnZpY2VzOiBbXSwNCiAgICAgIHByb2ZpbGU6IHt9LA0KICAgICAgYmFsYW5jZTogMCwNCiAgICAgIHNob3dCYWxhbmNlOiBmYWxzZSwNCiAgICB9DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICB1c2VySW1hZ2UoKSB7DQogICAgICByZXR1cm4gdGhpcy5wcm9maWxlLnByb2ZpbGVfaW1hZ2UNCiAgICAgICAgPyB0aGlzLnByb2ZpbGUucHJvZmlsZV9pbWFnZQ0KICAgICAgICA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9kZWZhdWx0LWF2YXRhci5wbmcnKQ0KICAgIH0sDQoNCiAgICBiYWxhbmNlRGlzcGxheSgpIHsNCiAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2lkLUlEJywgew0KICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgICAgY3VycmVuY3k6ICdJRFInDQogICAgICB9KS5mb3JtYXQodGhpcy5iYWxhbmNlIHx8IDApDQogICAgfQ0KICB9LA0KDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgYXdhaXQgdGhpcy5sb2FkQWxsKCkNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgbG9hZEFsbCgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IFtwLCBiLCBzLCBibl0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgYXBpLmdldCgnL3Byb2ZpbGUnKSwNCiAgICAgICAgICBhcGkuZ2V0KCcvYmFsYW5jZScpLA0KICAgICAgICAgIGFwaS5nZXQoJy9zZXJ2aWNlcycpLA0KICAgICAgICAgIGFwaS5nZXQoJy9iYW5uZXInKQ0KICAgICAgICBdKQ0KDQogICAgICAgIHRoaXMucHJvZmlsZSA9IHAuZGF0YS5kYXRhIHx8IHt9DQogICAgICAgIHRoaXMuYmFsYW5jZSA9IChiLmRhdGEgJiYgYi5kYXRhLmRhdGEuYmFsYW5jZSkgPyBiLmRhdGEuZGF0YS5iYWxhbmNlIDogMA0KICAgICAgICB0aGlzLnNlcnZpY2VzID0gKHMuZGF0YSAmJiBzLmRhdGEuZGF0YSkgPyBzLmRhdGEuZGF0YSA6IFtdDQogICAgICAgIHRoaXMuYmFubmVycyA9IChibi5kYXRhICYmIGJuLmRhdGEuZGF0YSkgPyBibi5kYXRhLmRhdGEgOiBbXQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBjb25zb2xlLmVycm9yKGUpDQogICAgICB9DQogICAgfSwNCg0KICAgIHNlbGVjdFNlcnZpY2Uocykgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAnL3BheW1lbnQnLA0KICAgICAgICBxdWVyeTogeyBzZXJ2aWNlSWQ6IHMuaWQgfQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgdG9nZ2xlQmFsYW5jZSgpIHsNCiAgICAgIHRoaXMuc2hvd0JhbGFuY2UgPSAhdGhpcy5zaG93QmFsYW5jZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AA6IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<!-- <template>\r\n  <div>\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"8\">\r\n        <b-card class=\"card-elevated mt-3\">\r\n          <h6 class=\"mb-2\">Layanan Favorit</h6>\r\n          \r\n          <div class=\"services-grid\">\r\n            <service-card v-for=\"s in services\" :key=\"s.id\" :service=\"s\" @select=\"selectService\" />\r\n          </div>\r\n        </b-card>\r\n\r\n        <div>\r\n          <banner-slider :banners=\"banners\" />\r\n        </div>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\" md=\"4\">\r\n        <b-card class=\"card-elevated\">\r\n          <div class=\"d-flex align-items-center\">\r\n            <img :src=\"userImage\" class=\"avatar-sm mr-3\" />\r\n            <div>\r\n              <div style=\"font-size:12px;color:#6b7280\">Saldo Anda</div>\r\n              <div style=\"font-weight:700;font-size:18px\">{{ balanceDisplay }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <b-button variant=\"primary\" block class=\"mt-3 big-action\" @click=\"$router.push('/topup')\">Top Up Sekarang</b-button>\r\n          <b-button variant=\"outline-secondary\" block class=\"mt-2\" @click=\"$router.push('/history')\">Lihat Riwayat</b-button>\r\n        </b-card>\r\n\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '../services/api';\r\n  import BannerSlider from '../components/BannerSlider.vue';\r\n  import ServiceCard from '../components/ServiceCard.vue';\r\n\r\n  export default {\r\n    components: {\r\n      BannerSlider,\r\n      ServiceCard\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        banners: [],\r\n        services: [],\r\n        profile: {},\r\n        balance: 0,\r\n        promo: ''\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      userImage() {\r\n        return this.profile.profile_image ? this.profile.profile_image : require('../assets/default-avatar.png');\r\n      },\r\n      balanceDisplay() {\r\n        return new Intl.NumberFormat('id-ID', {\r\n          style: 'currency',\r\n          currency: 'IDR'\r\n        }).format(this.balance || 0);\r\n      }\r\n    },\r\n\r\n    async created() {\r\n      await this.loadAll();\r\n    },\r\n\r\n    methods: {\r\n      async loadAll() {\r\n        try {\r\n          const [p, b, s, bn] = await Promise.all([\r\n            api.get('/profile'), \r\n            api.get('/balance'), \r\n            api.get('/services'), \r\n            api.get('/banner')\r\n          ]);\r\n          \r\n          this.profile = p.data.data || {};\r\n          this.balance = (b.data && b.data.data.balance) ? b.data.data.balance : 0;\r\n          this.services = (s.data && s.data.data) ? s.data.data : [];\r\n          this.banners = (bn.data && bn.data.data) ? bn.data.data : [];\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      },\r\n\r\n      selectService(s) {\r\n        this.$router.push({\r\n          path: '/payment',\r\n          query: {\r\n            serviceId: s.id\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script> -->\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"d-flex justify-content-between align-items-center px-4 mt-3 flex-wrap\">\r\n      <div class=\"d-flex align-items-center mb-3 mb-md-0\">\r\n        <img :src=\"userImage\" class=\"avatar-lg mr-3\" />\r\n        <div>\r\n          <div>Selamat datang,</div>\r\n          <h3 class=\"font-weight-bold\">{{ profile.first_name }} {{ profile.last_name }}</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <b-card class=\"saldo-card text-white ml-md-3 flex-grow-1\">\r\n        <div class=\"d-flex flex-column\">\r\n          <small>Saldo anda</small>\r\n          <h3>{{ showBalance ? balanceDisplay : 'Rp ••••••••' }}</h3>\r\n\r\n          <b-link class=\"text-white\" href=\"#\" @click.prevent=\"toggleBalance\">\r\n            {{ showBalance ? 'Sembunyikan' : 'Lihat Saldo' }}\r\n            <i :class=\"showBalance ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\r\n          </b-link>\r\n        </div>\r\n      </b-card>\r\n    </div>\r\n\r\n    <b-card class=\"mt-4 card-elevated mx-3\">\r\n      <div class=\"services-grid\">\r\n        <service-card v-for=\"s in services\" :key=\"s.id\" :service=\"s\" @select=\"selectService\"/>\r\n      </div>\r\n    </b-card>\r\n\r\n    <div class=\"mt-3 mx-5\">\r\n      <banner-slider :banners=\"banners\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../services/api'\r\nimport LayoutNavbar from '../components/LayoutNavbar.vue'\r\nimport BannerSlider from '../components/BannerSlider.vue'\r\nimport ServiceCard from '../components/ServiceCard.vue'\r\n\r\nexport default {\r\n  components: {\r\n    LayoutNavbar,\r\n    BannerSlider,\r\n    ServiceCard\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      banners: [],\r\n      services: [],\r\n      profile: {},\r\n      balance: 0,\r\n      showBalance: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    userImage() {\r\n      return this.profile.profile_image\r\n        ? this.profile.profile_image\r\n        : require('../assets/default-avatar.png')\r\n    },\r\n\r\n    balanceDisplay() {\r\n      return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: 'IDR'\r\n      }).format(this.balance || 0)\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    await this.loadAll()\r\n  },\r\n\r\n  methods: {\r\n    async loadAll() {\r\n      try {\r\n        const [p, b, s, bn] = await Promise.all([\r\n          api.get('/profile'),\r\n          api.get('/balance'),\r\n          api.get('/services'),\r\n          api.get('/banner')\r\n        ])\r\n\r\n        this.profile = p.data.data || {}\r\n        this.balance = (b.data && b.data.data.balance) ? b.data.data.balance : 0\r\n        this.services = (s.data && s.data.data) ? s.data.data : []\r\n        this.banners = (bn.data && bn.data.data) ? bn.data.data : []\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n    },\r\n\r\n    selectService(s) {\r\n      this.$router.push({\r\n        path: '/payment',\r\n        query: { serviceId: s.id }\r\n      })\r\n    },\r\n\r\n    toggleBalance() {\r\n      this.showBalance = !this.showBalance\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .saldo-card {\r\n    background-image: url('../assets/Background_Saldo.png');\r\n    border-radius: 16px;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: cover;\r\n    min-width: 300px;\r\n    max-width: 500px;\r\n  }\r\n  .avatar-lg {\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 50%;\r\n  }\r\n  .services-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(5, 1fr);\r\n    gap: 12px;\r\n    text-align: center;\r\n  }\r\n</style>\r\n\r\n"]}]}
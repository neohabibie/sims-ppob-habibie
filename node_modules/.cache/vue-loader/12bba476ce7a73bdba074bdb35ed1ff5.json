{"remainingRequest":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\src\\views\\Login.vue","mtime":1757614510780},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1757611684910},{"path":"C:\\xampp\\htdocs\\his-ppob-vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":1757611686384}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSc7DQppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRvcnMnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCl7IHJldHVybiB7IGVtYWlsOicnLCBwYXNzd29yZDonJywgbG9hZGluZzpmYWxzZSB9IH0sDQogIG1ldGhvZHM6ew0KICAgIGFzeW5jIG9uU3VibWl0KCl7DQogICAgICBpZighcmVxdWlyZWQodGhpcy5lbWFpbCkgfHwgIXJlcXVpcmVkKHRoaXMucGFzc3dvcmQpKSByZXR1cm4gYWxlcnQoJ1NlbXVhIGZpZWxkIHdhamliIGRpaXNpJyk7DQogICAgICB0aGlzLmxvYWRpbmc9dHJ1ZTsNCiAgICAgIHRyeSB7DQogIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvbG9naW4nLCB0aGlzLmZvcm0pOw0KICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuc3RhdHVzID09PSAwKSB7DQogICAgY29uc3QgdG9rZW4gPSByZXMuZGF0YS5kYXRhLnRva2VuOw0KICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYXV0aC9zZXRUb2tlbicsIHRva2VuKTsNCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7DQogICAgYWxlcnQoJ0xvZ2luIHN1a3NlcycpOw0KICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7DQogIH0gZWxzZSB7DQogICAgYWxlcnQocmVzLmRhdGEubWVzc2FnZSB8fCAnTG9naW4gZ2FnYWwnKTsNCiAgfQ0KfSBjYXRjaChlKSB7DQogIGFsZXJ0KChlLnJlc3BvbnNlICYmIGUucmVzcG9uc2UuZGF0YSAmJiBlLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwgJ1RlcmphZGkgZXJyb3IgbG9naW4nKTsNCn0gZmluYWxseSB7IHRoaXMubG9hZGluZz1mYWxzZTsgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"justify-content-center mt-5\">\r\n    <b-col cols=\"10\" md=\"5\">\r\n      <b-card title=\"Login HIS PPOB\">\r\n        <b-form @submit.prevent=\"onSubmit\">\r\n          <b-form-group label=\"Email\">\r\n            <b-form-input v-model=\"email\" type=\"email\" required></b-form-input>\r\n          </b-form-group>\r\n          <b-form-group label=\"Password\">\r\n            <b-form-input v-model=\"password\" type=\"password\" required></b-form-input>\r\n          </b-form-group>\r\n          <b-button type=\"submit\" variant=\"primary\" :disabled=\"loading\">\r\n            {{ loading ? 'Memproses...' : 'Masuk' }}\r\n          </b-button>\r\n          <b-button variant=\"link\" @click=\"$router.push('/register')\">Daftar</b-button>\r\n        </b-form>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport api from '../services/api';\r\nimport { required } from '../utils/validators';\r\nexport default {\r\n  data(){ return { email:'', password:'', loading:false } },\r\n  methods:{\r\n    async onSubmit(){\r\n      if(!required(this.email) || !required(this.password)) return alert('Semua field wajib diisi');\r\n      this.loading=true;\r\n      try {\r\n  const res = await api.post('/login', this.form);\r\n  if (res.data && res.data.status === 0) {\r\n    const token = res.data.data.token;\r\n    this.$store.commit('auth/setToken', token);\r\n    localStorage.setItem('token', token);\r\n    alert('Login sukses');\r\n    this.$router.push('/');\r\n  } else {\r\n    alert(res.data.message || 'Login gagal');\r\n  }\r\n} catch(e) {\r\n  alert((e.response && e.response.data && e.response.data.message) || 'Terjadi error login');\r\n} finally { this.loading=false; }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}